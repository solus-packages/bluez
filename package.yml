name       : bluez
version    : '5.44'
release    : 11
source     :
    - https://www.kernel.org/pub/linux/bluetooth/bluez-5.44.tar.xz : 0c321e291f8b45e6a78e379dfe80592b65955a0f0ab191f1cca0edd8ec356c85
license    :
    - GPL-2.0
    - LGPL-2.1
summary    : Official Linux Bluetooth protocol stack.
component  : system.utils
description: |
    The Bluetooth wireless technology is a worldwide specification for a small-form factor, low-cost radio solution that provides links between mobile computers, mobile phones, other portable handheld devices, and connectivity to the Internet. The specification is developed, published and promoted by the Bluetooth Special Interest Group (SIG).f BlueZ provides support for the core Bluetooth layers and protocols. It is flexible, efficient and uses a modular implementation.
builddeps  :
    - pkgconfig(libical)
    - cups-devel
setup      : |
    %patch -p1 < $pkgfiles/0001-Make-main.conf-stateless.patch
    %reconfigure --enable-cups \
               --enable-tools \
               --enable-library \
               --enable-sixaxis \
               --enable-experimental
build      : |
    %make
install    : |
    %make_install
    %make DESTDIR=%installroot% \
            install-includeHEADERS \
            install-libLTLIBRARIES \
            install-pkgconfigDATA
    install -dm00755 $installdir/usr/share/defaults/bluetooth
    install -Dm00644 src/main.conf $installdir/usr/share/defaults/bluetooth/main.conf
    mkdir -p $installdir/%libdir%/systemd/system/bluetooth.target.wants
    ln -sv %libdir%/systemd/system/bluetooth.service  $installdir/%libdir%/systemd/system/dbus-org.bluez.service
    ln -sv %libdir%/systemd/system/bluetooth.service  $installdir/%libdir%/systemd/system/bluetooth.target.wants/bluetooth.service
